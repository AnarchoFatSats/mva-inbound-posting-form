<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claim Connectors CRM - Login</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Amazon Cognito Identity SDK -->
    <script src="https://cdn.jsdelivr.net/npm/amazon-cognito-identity-js@6.3.1/dist/amazon-cognito-identity.min.js"></script>
    <!-- Our login initialization script -->
    <script src="login-init.js"></script>

<!-- AppConfig Module Reference -->
<script src="js/app-config.js?v=1748474952146"></script>

<!-- Build-Time Injected Configuration -->
<script>
/**
 * Application Configuration - Injected at Build Time
 * This eliminates the need for external config.json files and prevents
 * race conditions, failed fetches, and timing issues.
 */
window.APP_CONFIG = {
  "userPoolId": "us-east-1_lhc964tLD",
  "clientId": "5t6mane4fnvineksoqb4ta0iu1",
  "apiEndpoint": "https://9qtb4my1ij.execute-api.us-east-1.amazonaws.com/prod",
  "apiUrl": "https://9qtb4my1ij.execute-api.us-east-1.amazonaws.com/prod",
  "apiKey": "",
  "buildTime": "2025-05-28T23:29:12.145Z",
  "buildEnv": "production"
};

// Legacy compatibility - some code might still look for these
window.preloadedConfig = window.APP_CONFIG;

console.log('ðŸ”§ Configuration injected at build time - no external loading needed');
</script>
</head>
<body class="auth-page">
    <!-- Hero Background with gradient overlay -->
    <div class="hero-background">
        <img src="images/claim_connectors_blue_transparent.png" alt="Claim Connectors Logo" class="hero-image">
    </div>
    
    <!-- Hero Logo -->
    <img src="images/claim_connectors_blue_transparent.png" alt="Claim Connectors Logo" class="hero-logo">
    
    <!-- Company Tagline -->
    <div class="tagline">Connecting Claims with Justice</div>
    
    <!-- Login Container -->
    <div class="login-container" id="loginForm">
        <div class="login-header">
            <h1>Welcome Back</h1>
            <p>Enter your credentials to access the dashboard</p>
        </div>
        
        <div id="error-message" class="message error-message"></div>
        <div id="success-message" class="message success-message"></div>
        
        <form id="login-form">
            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" name="email" autocomplete="email" required>
            </div>
            
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" autocomplete="current-password" required>
            </div>
            
            <a href="forgot-password.html" class="forgot-password">Forgot password?</a>
            
            <button type="submit" class="btn-primary">
                Log In
                <span class="loader" id="login-loader"></span>
            </button>
            
            <div class="signup-link">
                Don't have an account? <a href="signup.html">Sign up</a>
            </div>
        </form>
    </div>
    
    <!-- Password Reset Form (initially hidden) -->
    <div class="login-container" id="passwordResetForm" style="display: none;">
        <div class="login-header">
            <h1>Set New Password</h1>
            <p>Your account requires a password change before you can continue</p>
        </div>
        
        <div id="password-reset-error" class="message error-message"></div>
        <div id="password-reset-success" class="message success-message"></div>
        
        <form id="password-reset-form">
            <div class="form-group">
                <label for="newPassword">New Password</label>
                <input type="password" id="newPassword" name="newPassword" required>
            </div>
            
            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required>
            </div>
            
            <div class="button-group">
                <button type="button" id="cancelPasswordReset" class="btn-secondary">Cancel</button>
                <button type="button" id="submitNewPassword" class="btn-primary">
                    Set New Password
                    <span class="loader" id="password-reset-loader"></span>
                </button>
            </div>
        </form>
    </div>
    
    <!-- Footer -->
    <div class="footer">
        &copy; 2023 Claim Connectors. All rights reserved.
    </div>
</body>
</html> 